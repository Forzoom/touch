!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.touch=t():e.touch=t()}(this,function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(1);t.default={name:"ROTouch",props:{coordinate:{type:String,default:"x"}},data:function(){return{hub:new n.TouchHub}},created:function(){var e=this;e.hub.onTouchDown(function(t){return e.$emit("touch-down",t)}),e.hub.onTouchUp(function(t){return e.$emit("touch-up",t)}),e.hub.onTouchMove(function(t){return e.$emit("touch-move",t)}),e.hub.onTouchSlide(function(t){return e.$emit("touch-slide",t)}),e.hub.onTouchFling(function(t){return e.$emit("touch-fling",t)})},mounted:function(){this.hub.coordinate=this.coordinate},render:function(e){var t=this,o={class:["ro-touch"],style:{width:"100%",height:"100%"},on:{}};return n.supportTouchEvent?(o.on.touchstart=t.hub.start.bind(t.hub),o.on.touchmove=t.hub.move.bind(t.hub),o.on.touchend=t.hub.end.bind(t.hub)):(o.on.mousedown=t.hub.start.bind(t.hub),o.on.mousemove=t.hub.move.bind(t.hub),o.on.mouseup=t.hub.end.bind(t.hub)),e("div",o,this.$slots.default)}}},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},u=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function(){},s=t.supportTouchEvent="ontouchstart"in window;t.TouchHub=function(){function e(){n(this,e);var t=this;t.active=!0,t.speedX=[0,0],t.speedXIdx=0,t.speedY=[0,0],t.speedYIdx=0,t.minFlingSpeed=1,t.maxFlingSpeed=1,t.coordinate="x",t.moveCoordinate=null,t.startPos={x:0,y:0},t.currentPos={x:0,y:0},t.lastRecordTime=-1,t._down=t._up=t._move=t._slide=t._fling=i,s?console.log("[touch] support touch event"):console.log("[touch] fallback to mouse event")}return u(e,[{key:"start",value:function(e){var t=this;if(t.active){var o=null;s?o=e.changedTouches[0]:(o=e,t.mouseStatus=1);var n=o.clientX,u=o.clientY;t._setStartPosition(n,u),t._setCurrentPosition(n,u),t._down({startPos:r({},t.startPos),currentPos:r({},t.currentPos)}),t.lastRecordTime=Date.now()}}},{key:"move",value:function(e){var t=this;if(t.active){var o=null;if(s)o=e.touches[0];else if(o=e,1!=t.mouseStatus)return;var n=o.clientX,r=o.clientY,u=n-t.currentPos.x,i=r-t.currentPos.y;t._setCurrentPosition(n,r),t._move({x:u,y:i});var c=Date.now();t.recordSpeed(u,1,c),t.recordSpeed(i,2,c),t.lastRecordTime=c,t.moveCoordinate||(t.moveCoordinate=Math.abs(u)>Math.abs(i)?"x":"y"),t.moveCoordinate==t.coordinate&&e.preventDefault()}}},{key:"end",value:function(e){var t=this;if(t.active){var o=null;s?o=e.changedTouches[0]:(o=e,t.mouseStatus=0),t._setCurrentPosition(o.clientX,o.clientY);var n=(t.speedX[0]+t.speedX[1])/2,u=(t.speedY[0]+t.speedY[1])/2;t._up({startPos:r({},t.startPos),currentPos:r({},t.currentPos)}),("x"===t.coordinate?Math.abs(n)>t.minFlingSpeed:Math.abs(u)>t.minFlingSpeed)?t._fling({startPos:r({},t.startPos),currentPos:r({},t.currentPos),speedX:n,speedY:u}):("x"===t.coordinate?Math.abs(t.currentPos.x-t.startPos.x)>0:Math.abs(t.currentPos.y-t.startPos.y)>0)&&t._slide({startPos:r({},t.startPos),currentPos:r({},t.currentPos)}),t.speedX[0]=t.speedX[1]=0,t.speedY[0]=t.speedY[1]=0,t.moveCoordinate=null}}},{key:"recordSpeed",value:function(e,t,o){var n=this,r=o-n.lastRecordTime,u=e/r;1===t?n.speedX[1&n.speedXIdx++]=u:2===t&&(n.speedY[1&n.speedYIdx++]=u)}},{key:"work",value:function(e){this.active=e}},{key:"_setStartPosition",value:function(e,t){this.startPos.x=e,this.startPos.y=t}},{key:"_setCurrentPosition",value:function(e,t){this.currentPos.x=e,this.currentPos.y=t}},{key:"onTouchDown",value:function(e){this._down=e}},{key:"onTouchUp",value:function(e){this._up=e}},{key:"onTouchMove",value:function(e){this._move=e}},{key:"onTouchSlide",value:function(e){this._slide=e}},{key:"onTouchFling",value:function(e){this._fling=e}}]),e}()},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r=o.n(n);t.default=r.a}])});