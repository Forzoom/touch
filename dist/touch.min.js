!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.touch=t():e.touch=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var u=n[o]={i:o,l:!1,exports:{}};return e[o].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(1);t.default={name:"ROTouch",data:function(){return{hub:new o.TouchHub}},created:function(){var e=this;e.hub.onTouchDown(function(t){return e.$emit("touch-down",t)}),e.hub.onTouchUp(function(t){return e.$emit("touch-up",t)}),e.hub.onTouchMove(function(t){return e.$emit("touch-move",t)}),e.hub.onTouchSlide(function(t){return e.$emit("touch-slide",t)}),e.hub.onTouchFling(function(t){return e.$emit("touch-fling",t)})},render:function(e){var t=this,n={class:["ro-touch"],style:{width:"100%",height:"100%"},on:{}};return o.supportTouchEvent?(n.on.touchstart=t.hub.start.bind(t.hub),n.on.touchmove=t.hub.move.bind(t.hub),n.on.touchend=t.hub.end.bind(t.hub)):(n.on.mousedown=t.hub.start.bind(t.hub),n.on.mousemove=t.hub.move.bind(t.hub),n.on.mouseup=t.hub.end.bind(t.hub)),e("div",n,this.$slots.default)}}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=Object.assign,s=function(){},i=t.supportTouchEvent="ontouchstart"in window;t.TouchHub=function(){function e(){o(this,e);var t=this;t.active=!0,t.speedX=[0,0],t.speedXIdx=0,t.speedY=[0,0],t.speedYIdx=0,t.minFlingSpeed=1,t.maxFlingSpeed=1,t.startPos={x:0,y:0},t.currentPos={x:0,y:0},t.lastRecordTime=-1,t._down=t._up=t._move=t._slide=t._fling=s,i?console.log("[touch] support touch event"):console.log("[touch] fallback to mouse event")}return u(e,[{key:"start",value:function(e){var t=this;if(t.active){var n=null;i?n=e.changedTouches[0]:(n=e,t.mouseStatus=1);var o=n.clientX,u=n.clientY;t._setStartPosition(o,u),t._setCurrentPosition(o,u),t._down({startPos:r({},t.startPos),currentPos:r({},t.currentPos)}),t.lastRecordTime=Date.now()}}},{key:"move",value:function(e){var t=this;if(t.active){var n=null;if(i)n=e.touches[0];else if(n=e,1!=t.mouseStatus)return;var o=n.clientX,u=n.clientY,r=o-t.currentPos.x,s=u-t.currentPos.y;t._setCurrentPosition(o,u),t._move({x:r,y:s}),t.recordSpeed(r,1),t.recordSpeed(s,2),e.preventDefault()}}},{key:"end",value:function(e){var t=this;if(t.active){var n=null;i?n=e.changedTouches[0]:(n=e,t.mouseStatus=0),t._setCurrentPosition(n.clientX,n.clientY);var o=(t.speedX[0]+t.speedX[1])/2;t._up({startPos:r({},t.startPos),currentPos:r({},t.currentPos)}),Math.abs(o)>t.minFlingSpeed?(t._fling({startPos:r({},t.startPos),currentPos:r({},t.currentPos),speedX:o}),t.speedX[0]=t.speedX[1]=0):Math.abs(t.currentPos.x-t.startPos.x)>0&&t._slide({startPos:r({},t.startPos),currentPos:r({},t.currentPos)}),t.speedX[0]=t.speedX[1]=0}}},{key:"recordSpeed",value:function(e,t){var n=this,o=Date.now(),u=o-n.lastRecordTime,r=e/u;1===t?n.speedX[1&n.speedXIdx++]=r:2===t&&(n.speedY[1&n.speedYIdx++]=r),n.lastRecordTime=o}},{key:"work",value:function(e){this.active=e}},{key:"_setStartPosition",value:function(e,t){this.startPos.x=e,this.startPos.y=t}},{key:"_setCurrentPosition",value:function(e,t){this.currentPos.x=e,this.currentPos.y=t}},{key:"onTouchDown",value:function(e){this._down=e}},{key:"onTouchUp",value:function(e){this._up=e}},{key:"onTouchMove",value:function(e){this._move=e}},{key:"onTouchSlide",value:function(e){this._slide=e}},{key:"onTouchFling",value:function(e){this._fling=e}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n.n(o);t.default=u.a}])});